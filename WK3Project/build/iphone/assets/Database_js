var ui=require("UI"),save=function(e){var a=Ti.Database.open("inTheatersDatabase");for(a.execute("DROP TABLE IF EXISTS inTheatersInfo"),a.execute("CREATE TABLE IF NOT EXISTS inTheatersInfo (id INTEGER PRIMARY KEY, movieName TEXT, criticsRating TEXT, criticsScore INTEGER, audienceRating TEXT, audienceScore INTEGER, poster TEXT, year INTEGER, mpaa_rating TEXT, runtime INTEGER, synopsis TEXT)"),a.execute("DELETE FROM inTheatersInfo"),i=0,j=e.length;j>i;i++)a.execute("INSERT INTO inTheatersInfo (movieName, criticsRating, criticsScore, audienceRating, audienceScore, poster, year, mpaa_rating, runtime, synopsis) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",e[i].movieName,e[i].criticsRating,e[i].criticsScore,e[i].audienceRating,e[i].audienceScore,e[i].poster,e[i].year,e[i].mpaa_rating,e[i].runtime,e[i].synopsis);read(),a.close()},read=function(){for(var e=Ti.Database.open("inTheatersDatabase"),i=e.execute("SELECT * FROM inTheatersInfo"),a=[];i.isValidRow();){var r={movieName:i.fieldByName("movieName"),criticsRating:i.fieldByName("criticsRating"),criticsScore:i.fieldByName("criticsScore"),audienceRating:i.fieldByName("audienceRating"),audienceScore:i.fieldByName("audienceScore"),poster:i.fieldByName("poster"),year:i.fieldByName("year"),mpaa_rating:i.fieldByName("mpaa_rating"),runtime:i.fieldByName("runtime"),synopsis:i.fieldByName("synopsis")};a.push(r),i.next()}i.close(),e.close(),ui.buildUI(a)},saveToCloud=function(e){for(i=0,j=e.length;j>i;i++)Cloud.Objects.create({classname:"Movies",fields:{movieName:e[i].movieName,criticsRating:e[i].criticsRating,criticsScore:e[i].criticsScoree,audienceRating:e[i].audienceRating,audienceScore:e[i].audienceScore,poster:e[i].poster,year:e[i].year,mpaa_rating:e[i].mpaa_rating,runtime:e[i].runtime,synopsis:e[i].synopsis}},function(e){console.log(e.success?"Saved To Cloud!":"Did not save to cloud!")})};exports.save=save,exports.saveToCloud=saveToCloud,exports.read=read;