// Create all UI variables
var mainWindow, mainView, title, icon, logo, weather, temp_f, temp_c, city, time, lastUpdate, lat, lon, state, webcam, day1;

// Main Window Info
mainWindow = Ti.UI.createWindow({
	backgroundColor: '#0695ff'
});

// Main View Info
mainView = Ti.UI.createView({
	width: Titanium.UI.FILL, 
	height: Titanium.UI.FILL,
	layout: 'vertical'
});

// Title Label Info
title = Ti.UI.createLabel({
	color: '#fff',
	font: { fontSize:22, fontWeight: 'bold' },
	text: 'My Weather App',
	top: 50
});

// Date Label Info
date = Ti.UI.createLabel({
	color: '#fff',
	top: 20,
});

// Time Label Info
time = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
});

// Icon Image Info
icon = Ti.UI.createImageView({
	top: 20,
	imageAlign: Ti.UI.IMAGE_ALIGNMENT_CENTER
});

// City Label Info
city = Ti.UI.createLabel({
	color: '#fff',
	top: 20,
});

// State Label Info
state = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
});

// Weather Label Info
weather = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
});

// Latitude Label Info
lat = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
});

// Longitude Label Info
lon = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
});

// Label Info
temp_f = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
});

// Label Info
temp_c = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
	//textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER
});

// Webcam Image Info
webcam = Ti.UI.createImageView({
	top: 50,
	height: 240,
	width: 352,
	//width: Ti.UI.SIZE, 
	//height: Ti.UI.SIZE,
	color: '#fff',
});

day1 = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
	left: 0,
});

// Logo Image Info
logo = Ti.UI.createImageView({
	height: 156,
	width: 210,
	top: 120,
});

// Last Updated Label Info
lastUpdate = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
});

// Builds UI with Remote Data
exports.buildUI = function(obj){
	
	// Logs obj into a string
	console.log('obj: ' + JSON.stringify(obj));
	
	// Adds remote data to desired location
	
	var newDate = obj.date;
	date.text = newDate.substr(0, 17);
	var newTime = obj.time;
	time.text = newTime.substr(28, 50);
	
	icon.image = obj.icon;
	
	city.text = 'City: ' + obj.city;
	state.text = 'State: ' + obj.state;
	weather.text = 'Current weather: ' + obj.weather;
	lat.text = 'Latitude: ' + obj.lat;
	lon.text = 'Longitude: ' + obj.lon;
	temp_f.text = 'Fahrenheit: ' + obj.temp_f;
	temp_c.text = 'Celsius: ' + obj.temp_c;
	
	day1.text = obj.day1;
	
	webcam.image = obj.webcam;
	logo.image = obj.logo;
	lastUpdate.text = obj.lastUpdate;
};


// Adds UI components to my main view
// Added separately for compatibility with Android devices.
mainView.add(title);
mainView.add(date);
mainView.add(time);
mainView.add(icon);
mainView.add(city);
mainView.add(state);
mainView.add(weather);
mainView.add(lat);
mainView.add(lon);
mainView.add(temp_f);
mainView.add(temp_c);
mainView.add(webcam);
mainView.add(day1);
mainView.add(logo);
mainView.add(lastUpdate);

// Adds my main view to the main window
mainWindow.add(mainView);

// Opens my main window
mainWindow.open();