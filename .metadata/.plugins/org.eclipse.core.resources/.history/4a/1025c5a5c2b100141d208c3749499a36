// Create all UI variables
var mainWindow, mainView, title, icon, logo, weather, temp_f, temp_c, city, time, lastUpdate, lat, lon, state, webcam;

// Main Window Info
mainWindow = Ti.UI.createWindow({
	backgroundColor: '#0695ff'
});

titleView = Ti.UI.createView({
	top: 20,
	height: 100,
	borderColor: '#fff',
	borderWidth: 2,
	layout: 'horizontal'
	
});

// Time Label Info
time = Ti.UI.createLabel({
	color: '#fff',
	bottom: 2,
	right: 2,
	font: { fontSize:22, fontWeight: 'bold' }
});

// Main View Info
mainView = Ti.UI.createView({
	width: Ti.UI.SIZE, 
	height: Ti.UI.SIZE,
	layout: 'vertical'
});

// Icon Image Info
icon = Ti.UI.createImageView({
	top: 20,
	imageAlign: Ti.UI.IMAGE_ALIGNMENT_CENTER
});

// City Label Info
city = Ti.UI.createLabel({
	color: '#fff',
	top: 20,
	//textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER
});

// State Label Info
state = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
	//textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER
});


// Weather Label Info
weather = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
	//textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER
});

// Latitude Label Info
lat = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
	//textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER
});

// Longitude Label Info
lon = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
	//textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER
});

// Label Info
temp_f = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
	//textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER
});

// Label Info
temp_c = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
	//textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER
});

// Webcam Image Info
webcam = Ti.UI.createImageView({
	top: 50,
	height: 240,
	width: 352,
	//width: Ti.UI.SIZE, 
	//height: Ti.UI.SIZE,
	color: '#fff',
});

// Logo Image Info
logo = Ti.UI.createImageView({
	height: 156,
	width: 210,
	top: 180,
});

// Last Updated Label Info
lastUpdate = Ti.UI.createLabel({
	color: '#fff',
	top: 1,
});

// Builds UI with Remote Data
exports.buildUI = function(obj){
	
	// Logs obj into a string
	console.log('obj: ' + JSON.stringify(obj));
	
	// Adds remote data to desired location
	icon.image = obj.icon;
	logo.image = obj.logo;
	temp_f.text = 'Fahrenheit: ' + obj.temp_f;
	temp_c.text = 'Celsius: ' + obj.temp_c;
	weather.text = 'Current weather: ' + obj.weather;
	city.text = 'City: ' + obj.city;
	var test = obj.time;
	time.text = test.substr(1, 17);
	lastUpdate.text = obj.lastUpdate;
	lat.text = 'Latitude: ' + obj.lat;
	lon.text = 'Longitude: ' + obj.lon;
	state.text = 'State: ' + obj.state;
	webcam.image = obj.webcam;
};


// Adds UI components to my main view
// Added separately for compatibility with Android devices.
mainView.add(titleView);
mainView.add(icon);
mainView.add(city);
mainView.add(state);
mainView.add(weather);
mainView.add(lat);
mainView.add(lon);
mainView.add(temp_f);
mainView.add(temp_c);
mainView.add(webcam);
mainView.add(logo);
mainView.add(lastUpdate);

titleView.add(time);

// Adds my main view to the main window
mainWindow.add(mainView);

// Opens my main window
mainWindow.open();