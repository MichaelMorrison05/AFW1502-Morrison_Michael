// This example is only able to capture video on the iOS platform.
// To capture video on the Android platform, see the Android Capture Video Example below.
// For BlackBerry, you need to add the `use_camera` and `access_shared` permission in your project's tiapp.xml file.

var win = Ti.UI.createWindow({
	backgroundColor: '#343434'
});

	var button = Titanium.UI.createButton({
	   title: 'Like',
	   font: { fontWeight: 'bold', fontSize: 16, fontStyle: 'roboto' },
	   color: '#3d589d',
	   borderRadius: 5,
	   borderWidth: 2,
	   borderColor: '#aebad0',
	   backgroundColor: '#edf0f7',
	   left: 15,
	   top: 20,
	   width: 55,
	   height: 35
	});

button.addEventListener('click',function(evt) {

Titanium.Media.showCamera({
	success:function(event) {
 // called when media returned from the camera
		Ti.API.debug('Our type was: '+event.mediaType);
 if(event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO) {
			var imageView = Ti.UI.createImageView({
				width:100,
				height:100,
				image:event.media
			});
			win.add(imageView);
		} else {
			alert("got the wrong type back ="+event.mediaType);
		}
	},
	cancel:function() {
 // called when user cancels taking a picture
	},
	error:function(error) {
 // called when there's an error
		var a = Titanium.UI.createAlertDialog({title:'Camera'});
 if (error.code == Titanium.Media.NO_CAMERA) {
			a.setMessage('Please run this test on device');
		} else {
			a.setMessage('Unexpected error: ' + error.code);
		}
		a.show();
	},
	saveToPhotoGallery:true,
 // allowEditing and mediaTypes are iOS-only settings
	allowEditing:true,
	mediaTypes:[Ti.Media.MEDIA_TYPE_VIDEO,Ti.Media.MEDIA_TYPE_PHOTO]
});

}

win.open();
